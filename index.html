<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>TV Master Control - 8 Cam Broadcast</title>
    <style>
        :root {
            --bg: #0e0e10;
            --panel: #18181b;
            --border: #2d2d30;
            --accent: #e53935; /* Live Red */
            --highlight: #00e676; /* Good Green */
            --text: #efeff1;
            --cam-bg: #000;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; outline: none; user-select: none; }

        body {
            background-color: var(--bg);
            color: var(--text);
            font-family: 'Roboto', 'Segoe UI', sans-serif;
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        /* --- Header --- */
        header {
            height: 50px;
            background: var(--panel);
            border-bottom: 1px solid var(--border);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
        }
        .brand { font-weight: 900; letter-spacing: 1px; color: #fff; }
        .brand span { color: var(--accent); }
        
        .sys-info { display: flex; gap: 20px; font-size: 0.8rem; font-family: monospace; color: #888; }
        .stat span { color: var(--highlight); }
        
        .clock { font-size: 1.5rem; font-weight: bold; font-family: monospace; color: #fff; }

        /* --- Main Workspace --- */
        .main-grid {
            display: grid;
            grid-template-columns: 300px 1fr 300px; /* Left - Center - Right */
            flex: 1;
            height: calc(100% - 80px); /* Minus header & ticker */
            gap: 2px;
            background: var(--border);
        }

        /* Panel Styling */
        .panel { background: var(--bg); display: flex; flex-direction: column; overflow: hidden; }
        .p-header {
            padding: 8px 10px; background: #222; font-size: 0.75rem;
            font-weight: bold; text-transform: uppercase; color: #aaa;
            border-bottom: 1px solid var(--border); display: flex; justify-content: space-between;
        }

        /* --- LEFT: Multiviewer (8 Cams) --- */
        .multiviewer {
            display: grid;
            grid-template-columns: 1fr 1fr; /* 2 columns */
            grid-auto-rows: 1fr;
            gap: 2px;
            background: var(--border);
            overflow-y: auto;
        }
        .cam-box {
            background: #050505;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid #222;
            min-height: 100px;
        }
        .cam-label {
            position: absolute; top: 5px; left: 5px;
            background: rgba(0,0,0,0.7); padding: 2px 4px;
            font-size: 0.6rem; color: #fff; border-left: 2px solid var(--highlight);
        }
        .cam-signal { color: #333; font-size: 1.5rem; font-weight: 900; opacity: 0.5; }
        /* Animation for fake activity */
        .cam-box::after {
            content: ''; position: absolute; bottom: 5px; right: 5px;
            width: 8px; height: 8px; background: var(--highlight);
            border-radius: 50%; animation: blink 2s infinite;
        }

        /* --- CENTER: Program Monitor --- */
        .pgm-area {
            background: #000;
            display: flex;
            flex-direction: column;
            position: relative;
            border-left: 2px solid var(--border);
            border-right: 2px solid var(--border);
        }
        
        .monitor-screen {
            flex: 1;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #000;
            overflow: hidden;
        }
        
        /* Media Elements */
        video, img { width: 100%; height: 100%; object-fit: contain; }
        
        /* Overlays */
        .live-tag {
            position: absolute; top: 20px; right: 20px;
            background: var(--accent); color: white;
            padding: 5px 10px; font-weight: bold; border-radius: 3px;
            box-shadow: 0 0 10px var(--accent);
            animation: pulse 1.5s infinite;
            display: none; z-index: 10;
        }

        .cg-overlay {
            position: absolute; bottom: 10%; left: 5%; right: 5%;
            display: none; z-index: 9;
        }
        .cg-box { background: linear-gradient(90deg, #b71c1c, #f44336); padding: 10px 20px; color: white; font-size: 1.5rem; font-weight: bold; display: inline-block; box-shadow: 3px 3px 5px rgba(0,0,0,0.5); }
        .cg-sub { background: rgba(255,255,255,0.9); color: black; padding: 5px 20px; font-weight: bold; display: inline-block; margin-top: 2px; }

        /* Audio Meters (Visual) */
        .audio-deck { height: 60px; background: #111; display: flex; gap: 5px; padding: 10px; align-items: flex-end; justify-content: center; border-top: 1px solid #333; }
        .meter { width: 15px; background: #333; height: 100%; position: relative; }
        .level { position: absolute; bottom: 0; width: 100%; background: linear-gradient(to top, #00e676, #ffea00, #ff1744); transition: height 0.1s; }

        /* --- RIGHT: Controls --- */
        .controls-area { padding: 10px; gap: 10px; overflow-y: auto; }
        
        .section-box { background: #1f1f23; padding: 10px; border-radius: 4px; margin-bottom: 10px; }
        .lbl { color: #888; font-size: 0.7rem; margin-bottom: 5px; display: block; text-transform: uppercase; }
        
        .playlist { min-height: 150px; max-height: 250px; overflow-y: auto; background: #111; border: 1px solid #333; margin-bottom: 10px; }
        .p-item { padding: 8px; border-bottom: 1px solid #222; font-size: 0.8rem; cursor: pointer; display: flex; justify-content: space-between; }
        .p-item:hover { background: #222; }
        .p-item.active { background: #3a1010; border-left: 3px solid var(--accent); color: white; }

        /* Buttons */
        button { width: 100%; padding: 10px; border: none; border-radius: 3px; cursor: pointer; color: white; font-weight: bold; transition: 0.2s; }
        .btn-take { background: var(--accent); font-size: 1.1rem; height: 50px; margin-bottom: 10px; }
        .btn-take:active { background: #b71c1c; transform: scale(0.98); }
        
        .btn-add { background: #333; font-size: 0.8rem; border: 1px dashed #555; color: #aaa; }
        .btn-add:hover { border-color: #fff; color: #fff; }
        
        .btn-opt { background: #444; font-size: 0.8rem; margin-bottom: 5px; }
        .btn-opt.active { background: var(--highlight); color: black; }

        input[type="text"] { width: 100%; background: #111; border: 1px solid #444; color: white; padding: 6px; font-size: 0.85rem; margin-bottom: 5px; }

        /* --- Footer Ticker --- */
        .ticker { height: 30px; background: var(--accent); display: flex; align-items: center; overflow: hidden; white-space: nowrap; }
        .ticker-lbl { background: black; color: yellow; padding: 0 15px; height: 100%; display: flex; align-items: center; font-weight: 900; font-size: 0.8rem; z-index: 5; }
        .ticker-content { padding-left: 100%; animation: scroll 20s linear infinite; font-weight: bold; font-size: 0.9rem; display: inline-block; }

        @keyframes scroll { 0% { transform: translateX(0); } 100% { transform: translateX(-100%); } }
        @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.5; } 100% { opacity: 1; } }
        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0.3; } }

        /* Mobile Adjustments */
        @media (max-width: 768px) {
            .main-grid { grid-template-columns: 1fr; grid-template-rows: auto 1fr auto; }
            .multiviewer { display: none; /* Hide 8 cams on small mobile to save space */ }
            .pgm-area { height: 40vh; }
        }
    </style>
</head>
<body>

    <header>
        <div class="brand">MASTER <span>CONTROL</span></div>
        <div class="sys-info">
            <div class="stat">STREAM: <span>1080p60</span></div>
            <div class="stat">BITRATE: <span>6000 Kbps</span></div>
        </div>
        <div class="clock" id="clock">00:00:00</div>
    </header>

    <div class="main-grid">
        
        <div class="panel" style="border-right: 1px solid #333;">
            <div class="p-header">Multiviewer (Inputs)</div>
            <div class="multiviewer">
                <div class="cam-box"><div class="cam-label">CAM 1 (STUDIO)</div><div class="cam-signal">CAM 1</div></div>
                <div class="cam-box"><div class="cam-label">CAM 2 (NEWS)</div><div class="cam-signal">CAM 2</div></div>
                <div class="cam-box"><div class="cam-label">CAM 3 (REMOTE)</div><div class="cam-signal">CAM 3</div></div>
                <div class="cam-box"><div class="cam-label">CAM 4 (SAT)</div><div class="cam-signal">CAM 4</div></div>
                <div class="cam-box"><div class="cam-label">CAM 5 (SAT)</div><div class="cam-signal">CAM 5</div></div>
                <div class="cam-box"><div class="cam-label">CAM 6 (EXT)</div><div class="cam-signal">CAM 6</div></div>
                <div class="cam-box"><div class="cam-label">CAM 7 (GFX)</div><div class="cam-signal">GFX A</div></div>
                <div class="cam-box"><div class="cam-label">CAM 8 (GFX)</div><div class="cam-signal">GFX B</div></div>
            </div>
        </div>

        <div class="panel pgm-area">
            <div class="p-header">
                <span>PROGRAM (AIR)</span>
                <span style="color:var(--accent)">‚óè LIVE TRANSMISSION</span>
            </div>
            <div class="monitor-screen" id="screen">
                <div class="live-tag" id="live-bug">LIVE</div>
                
                <video id="main-video" style="display:none"></video>
                <img id="main-image" style="display:none" src="">
                <h2 id="idle-text" style="color:#333">SYSTEM IDLE</h2>

                <div class="cg-overlay" id="cg-layer">
                    <div class="cg-box" id="cg-head">BREAKING NEWS</div><br>
                    <div class="cg-sub" id="cg-sub">Developing Story</div>
                </div>
            </div>

            <div class="audio-deck">
                <div class="meter"><div class="level" id="m1"></div></div>
                <div class="meter"><div class="level" id="m2"></div></div>
                <div class="meter"><div class="level" id="m3"></div></div>
                <div class="meter"><div class="level" id="m4"></div></div>
                <span style="color:#555; font-size:0.7rem; margin-left:10px; margin-bottom:5px;">AUDIO MIX</span>
            </div>
        </div>

        <div class="panel controls-area">
            
            <div class="section-box">
                <button class="btn-take" onclick="playNext()">TAKE (PLAY)</button>
                <button class="btn-opt" style="background:#333;" onclick="stopAll()">FADE TO BLACK</button>
            </div>

            <div class="section-box">
                <span class="lbl">PLAYLIST / ASSETS</span>
                <div class="playlist" id="playlist-container">
                    </div>
                <input type="file" id="fileInput" multiple accept="video/*,image/*" style="display:none">
                <button class="btn-add" onclick="document.getElementById('fileInput').click()">+ UPLOAD MEDIA</button>
            </div>

            <div class="section-box">
                <span class="lbl">CG / LOWER THIRD</span>
                <input type="text" id="inp-head" value="BREAKING NEWS">
                <input type="text" id="inp-sub" value="Live Report">
                <div style="display:flex; gap:5px;">
                    <button class="btn-opt" onclick="updateCG()">UPDATE</button>
                    <button class="btn-opt" id="btn-cg" onclick="toggleCG()">SHOW ON AIR</button>
                </div>
            </div>

            <div class="section-box">
                <span class="lbl">TICKER CONTENT</span>
                <input type="text" id="inp-ticker" value="WELCOME TO THE BROADCAST SYSTEM...">
                <button class="btn-opt" onclick="updateTicker()">UPDATE TICKER</button>
            </div>

        </div>

    </div>

    <div class="ticker">
        <div class="ticker-lbl">NEWS FLASH</div>
        <div class="ticker-content" id="ticker-text">SYSTEM READY - CONNECTING TO SATELLITE - STANDBY FOR UPLOAD...</div>
    </div>

    <script>
        // --- Logic ---
        let playlist = [];
        let currentIndex = -1;
        const videoPlayer = document.getElementById('main-video');
        const imageViewer = document.getElementById('main-image');
        const idleText = document.getElementById('idle-text');
        const liveBug = document.getElementById('live-bug');

        // 1. Clock
        setInterval(() => {
            const d = new Date();
            document.getElementById('clock').innerText = d.toLocaleTimeString('en-GB');
        }, 1000);

        // 2. Audio Meter Simulation
        setInterval(() => {
            if(videoPlayer.style.display === 'block' && !videoPlayer.paused) {
                // Random levels when video is playing
                document.getElementById('m1').style.height = Math.random() * 100 + '%';
                document.getElementById('m2').style.height = Math.random() * 100 + '%';
                document.getElementById('m3').style.height = Math.random() * 80 + '%';
                document.getElementById('m4').style.height = Math.random() * 80 + '%';
            } else {
                // Silence
                document.querySelectorAll('.level').forEach(el => el.style.height = '5%');
            }
        }, 100);

        // 3. File Upload
        document.getElementById('fileInput').addEventListener('change', function(e) {
            const files = Array.from(e.target.files);
            files.forEach(file => {
                const type = file.type.startsWith('video') ? 'video' : 'image';
                playlist.push({
                    id: Date.now() + Math.random(),
                    name: file.name,
                    type: type,
                    url: URL.createObjectURL(file)
                });
            });
            renderPlaylist();
        });

        // 4. Render Playlist
        function renderPlaylist() {
            const con = document.getElementById('playlist-container');
            con.innerHTML = '';
            playlist.forEach((item, index) => {
                const div = document.createElement('div');
                div.className = `p-item ${index === currentIndex ? 'active' : ''}`;
                div.innerHTML = `<span>${index+1}. ${item.name}</span> <span style="font-size:0.7rem; opacity:0.5">${item.type.toUpperCase()}</span>`;
                div.onclick = () => { currentIndex = index - 1; playNext(); };
                
                // Add delete button logic here if needed
                con.appendChild(div);
            });
        }

        // 5. Play Logic
        function playNext() {
            if (currentIndex < playlist.length - 1) {
                currentIndex++;
                const item = playlist[currentIndex];
                
                idleText.style.display = 'none';
                liveBug.style.display = 'block';
                
                renderPlaylist(); // update active class

                if (item.type === 'video') {
                    imageViewer.style.display = 'none';
                    videoPlayer.style.display = 'block';
                    videoPlayer.src = item.url;
                    videoPlayer.play();
                    
                    videoPlayer.onended = () => playNext(); // Auto Next
                } else {
                    videoPlayer.pause();
                    videoPlayer.style.display = 'none';
                    imageViewer.style.display = 'block';
                    imageViewer.src = item.url;
                    
                    // Image stays for 5 seconds then next
                    setTimeout(() => {
                        if(imageViewer.src === item.url) playNext();
                    }, 5000);
                }
            } else {
                stopAll();
            }
        }

        function stopAll() {
            videoPlayer.pause();
            videoPlayer.style.display = 'none';
            imageViewer.style.display = 'none';
            idleText.style.display = 'block';
            liveBug.style.display = 'none';
            currentIndex = -1;
            renderPlaylist();
        }

        // 6. CG & Ticker Logic
        let cgOn = false;
        function toggleCG() {
            const layer = document.getElementById('cg-layer');
            const btn = document.getElementById('btn-cg');
            cgOn = !cgOn;
            if(cgOn) {
                layer.style.display = 'block';
                btn.classList.add('active');
            } else {
                layer.style.display = 'none';
                btn.classList.remove('active');
            }
        }

        function updateCG() {
            document.getElementById('cg-head').innerText = document.getElementById('inp-head').value;
            document.getElementById('cg-sub').innerText = document.getElementById('inp-sub').value;
        }

        function updateTicker() {
            const txt = document.getElementById('inp-ticker').value;
            // Restart animation trick
            const t = document.getElementById('ticker-text');
            t.style.animation = 'none';
            t.innerText = txt + " ... " + txt;
            t.offsetHeight; /* trigger reflow */
            t.style.animation = 'scroll 20s linear infinite';
        }

    </script>
</body>
</html>
